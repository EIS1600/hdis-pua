<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Control Flow; Regular Expressions | HDIS: Analysis of Prosopographical Data–with R</title>
  <meta name="description" content="This is a Handbook for Digital Islamicate Studies. Work in progress, based on tought courses." />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Control Flow; Regular Expressions | HDIS: Analysis of Prosopographical Data–with R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a Handbook for Digital Islamicate Studies. Work in progress, based on tought courses." />
  <meta name="github-repo" content="EIS1600/hdis-pua" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Control Flow; Regular Expressions | HDIS: Analysis of Prosopographical Data–with R" />
  
  <meta name="twitter:description" content="This is a Handbook for Digital Islamicate Studies. Work in progress, based on tought courses." />
  

<meta name="author" content="Maxim G. Romanov" />


<meta name="date" content="2023-10-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="touch-icon.png" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="data-manipulation-ii.html"/>
<link rel="next" href="getting-your-data-right.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/d3-3.3.8/d3.min.js"></script>
<script src="libs/dagre-0.4.0/dagre-d3.min.js"></script>
<link href="libs/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet" />
<script src="libs/mermaid-0.3.0/dist/mermaid.slim.min.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/chromatography-0.1/chromatography.js"></script>
<script src="libs/DiagrammeR-binding-1.0.10/DiagrammeR.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Handbook of Digital Islamicate Studies</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html"><i class="fa fa-check"></i>About the Course</a>
<ul>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html#syllabus"><i class="fa fa-check"></i>Syllabus</a>
<ul>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html#general-description"><i class="fa fa-check"></i>General Description</a></li>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html#learning-objectives"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html#didactic-concept"><i class="fa fa-check"></i>Didactic concept</a></li>
<li class="chapter" data-level="0.0.1" data-path="about-the-course.html"><a href="about-the-course.html#course-structure-and-learning-objectives"><i class="fa fa-check"></i><b>0.0.1</b> Course structure and learning objectives:</a></li>
<li class="chapter" data-level="0.0.2" data-path="about-the-course.html"><a href="about-the-course.html#main-object-of-the-course-pua-dataset"><i class="fa fa-check"></i><b>0.0.2</b> Main Object of the Course: PUA Dataset</a></li>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html#course-evaluation-requirements-for-the-full-credit"><i class="fa fa-check"></i>Course Evaluation: requirements for the full credit</a></li>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html#class-participation"><i class="fa fa-check"></i>Class Participation</a></li>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html#homework"><i class="fa fa-check"></i>Homework</a></li>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html#final-project"><i class="fa fa-check"></i>Final Project</a></li>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html#additional-study-materials"><i class="fa fa-check"></i>Additional Study Materials</a></li>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html#software-tools-technologies"><i class="fa fa-check"></i>Software, Tools, &amp; Technologies:</a></li>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html#submitting-homework"><i class="fa fa-check"></i>Submitting Homework:</a></li>
<li class="chapter" data-level="" data-path="about-the-course.html"><a href="about-the-course.html#lesson-topics-subject-to-modifications"><i class="fa fa-check"></i>Lesson Topics (<em>subject to modifications</em>)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="setting-everything-up.html"><a href="setting-everything-up.html"><i class="fa fa-check"></i><b>1</b> Setting Everything Up</a>
<ul>
<li class="chapter" data-level="1.1" data-path="setting-everything-up.html"><a href="setting-everything-up.html#links-for-things-to-install"><i class="fa fa-check"></i><b>1.1</b> Links for things to install</a></li>
<li class="chapter" data-level="1.2" data-path="setting-everything-up.html"><a href="setting-everything-up.html#setting-things-up"><i class="fa fa-check"></i><b>1.2</b> Setting Things Up</a></li>
<li class="chapter" data-level="1.3" data-path="setting-everything-up.html"><a href="setting-everything-up.html#creating-a-project"><i class="fa fa-check"></i><b>1.3</b> Creating a Project</a></li>
<li class="chapter" data-level="1.4" data-path="setting-everything-up.html"><a href="setting-everything-up.html#homework-assignments"><i class="fa fa-check"></i><b>1.4</b> Homework assignments</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html"><i class="fa fa-check"></i><b>2</b> RStudio, Basic R Commands, Swirl Tutorials</a>
<ul>
<li class="chapter" data-level="2.1" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#this-chapter"><i class="fa fa-check"></i><b>2.1</b> This Chapter</a></li>
<li class="chapter" data-level="2.2" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#overview-of-r"><i class="fa fa-check"></i><b>2.2</b> Overview of R</a></li>
<li class="chapter" data-level="2.3" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#rstudio-interface"><i class="fa fa-check"></i><b>2.3</b> RStudio Interface</a></li>
<li class="chapter" data-level="2.4" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#main-file-types"><i class="fa fa-check"></i><b>2.4</b> Main File Types</a></li>
<li class="chapter" data-level="2.5" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#projects"><i class="fa fa-check"></i><b>2.5</b> Projects</a></li>
<li class="chapter" data-level="2.6" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#basic-commands"><i class="fa fa-check"></i><b>2.6</b> Basic Commands</a></li>
<li class="chapter" data-level="2.7" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#built-in-functions"><i class="fa fa-check"></i><b>2.7</b> Built-in Functions</a></li>
<li class="chapter" data-level="2.8" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#librariespackages"><i class="fa fa-check"></i><b>2.8</b> Libraries/Packages</a></li>
<li class="chapter" data-level="2.9" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#values-and-their-types"><i class="fa fa-check"></i><b>2.9</b> Values and their types</a></li>
<li class="chapter" data-level="2.10" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#basic-data-structures-and-their-practical-usage"><i class="fa fa-check"></i><b>2.10</b> Basic Data Structures and Their Practical Usage</a>
<ul>
<li class="chapter" data-level="2.10.1" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#basic-data-structures"><i class="fa fa-check"></i><b>2.10.1</b> Basic data structures</a></li>
<li class="chapter" data-level="2.10.2" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#main-properties-of-basic-data-structures"><i class="fa fa-check"></i><b>2.10.2</b> Main properties of basic data structures</a></li>
<li class="chapter" data-level="2.10.3" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#most-common-usage-of-basic-data-structures"><i class="fa fa-check"></i><b>2.10.3</b> Most Common Usage of Basic Data Structures:</a></li>
<li class="chapter" data-level="2.10.4" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#basic-data-structures-examples"><i class="fa fa-check"></i><b>2.10.4</b> Basic Data Structures Examples</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="rstudio-basic-r-commands-swirl-tutorials.html"><a href="rstudio-basic-r-commands-swirl-tutorials.html#homework-with-swirl"><i class="fa fa-check"></i><b>2.11</b> Homework with <code>swirl()</code></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-markdown-and-r-notebooks.html"><a href="r-markdown-and-r-notebooks.html"><i class="fa fa-check"></i><b>3</b> R Markdown and R Notebooks</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-markdown-and-r-notebooks.html"><a href="r-markdown-and-r-notebooks.html#previous-lesson"><i class="fa fa-check"></i><b>3.1</b> Previous lesson</a></li>
<li class="chapter" data-level="3.2" data-path="r-markdown-and-r-notebooks.html"><a href="r-markdown-and-r-notebooks.html#this-lesson"><i class="fa fa-check"></i><b>3.2</b> This lesson</a></li>
<li class="chapter" data-level="3.3" data-path="r-markdown-and-r-notebooks.html"><a href="r-markdown-and-r-notebooks.html#r-notebookmarkdown"><i class="fa fa-check"></i><b>3.3</b> R Notebook/Markdown</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="r-markdown-and-r-notebooks.html"><a href="r-markdown-and-r-notebooks.html#r-notebook-yml-header"><i class="fa fa-check"></i><b>3.3.1</b> R Notebook/ YML Header</a></li>
<li class="chapter" data-level="3.3.2" data-path="r-markdown-and-r-notebooks.html"><a href="r-markdown-and-r-notebooks.html#basics-of-markdown"><i class="fa fa-check"></i><b>3.3.2</b> Basics of Markdown</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="r-markdown-and-r-notebooks.html"><a href="r-markdown-and-r-notebooks.html#homework-1"><i class="fa fa-check"></i><b>3.4</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html"><i class="fa fa-check"></i><b>4</b> Data Manipulation I</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#this-chapter-1"><i class="fa fa-check"></i><b>4.1</b> This Chapter</a></li>
<li class="chapter" data-level="4.2" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#why-tidyverse"><i class="fa fa-check"></i><b>4.2</b> Why <code>tidyverse</code>?</a></li>
<li class="chapter" data-level="4.3" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#main-data-file-formats-csv-and-tsv"><i class="fa fa-check"></i><b>4.3</b> Main Data File Formats: CSV and TSV</a></li>
<li class="chapter" data-level="4.4" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#loading-data-into-r"><i class="fa fa-check"></i><b>4.4</b> Loading Data into R</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#loading-csv-and-tsv-files"><i class="fa fa-check"></i><b>4.4.1</b> Loading CSV and TSV files</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#r-specific-data-format-rds"><i class="fa fa-check"></i><b>4.4.2</b> R-specific Data “Format”: RDS</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#loading-pua-data"><i class="fa fa-check"></i><b>4.5</b> Loading PUA data</a></li>
<li class="chapter" data-level="4.6" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#exploring-pua-data"><i class="fa fa-check"></i><b>4.6</b> Exploring PUA Data</a></li>
<li class="chapter" data-level="4.7" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#main-commands-for-engaging-with-a-tibble"><i class="fa fa-check"></i><b>4.7</b> Main commands for engaging with a tibble</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#chaining-with"><i class="fa fa-check"></i><b>4.7.1</b> Chaining with <code>%&gt;%</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#important-functions-from-dplyr"><i class="fa fa-check"></i><b>4.8</b> Important Functions from <code>dplyr</code></a></li>
<li class="chapter" data-level="4.9" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#important-functions-from-tidyr"><i class="fa fa-check"></i><b>4.9</b> Important Functions from <code>tidyr</code></a></li>
<li class="chapter" data-level="4.10" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#function-usage"><i class="fa fa-check"></i><b>4.10</b> Function usage</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#filter"><i class="fa fa-check"></i><b>4.10.1</b> <code>filter()</code></a></li>
<li class="chapter" data-level="4.10.2" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#select"><i class="fa fa-check"></i><b>4.10.2</b> <code>select()</code></a></li>
<li class="chapter" data-level="4.10.3" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#mutate-and-transmute"><i class="fa fa-check"></i><b>4.10.3</b> <code>mutate()</code> and <code>transmute()</code></a></li>
<li class="chapter" data-level="4.10.4" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#rename"><i class="fa fa-check"></i><b>4.10.4</b> <code>rename()</code></a></li>
<li class="chapter" data-level="4.10.5" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#arrange"><i class="fa fa-check"></i><b>4.10.5</b> <code>arrange()</code></a></li>
<li class="chapter" data-level="4.10.6" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#group_by-ungroup"><i class="fa fa-check"></i><b>4.10.6</b> <code>group_by()</code> / <code>ungroup()</code></a></li>
<li class="chapter" data-level="4.10.7" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#summarise-or-summarize"><i class="fa fa-check"></i><b>4.10.7</b> <code>summarise()</code> or <code>summarize()</code></a></li>
<li class="chapter" data-level="4.10.8" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#join_-functions"><i class="fa fa-check"></i><b>4.10.8</b> <code>join_*</code> functions</a></li>
<li class="chapter" data-level="4.10.9" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#pivot_-functions"><i class="fa fa-check"></i><b>4.10.9</b> <code>pivot_*()</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#homework-tasks"><i class="fa fa-check"></i><b>4.11</b> Homework Tasks</a></li>
<li class="chapter" data-level="4.12" data-path="data-manipulation-i.html"><a href="data-manipulation-i.html#appendix-window-function-in-tidyverse"><i class="fa fa-check"></i><b>4.12</b> Appendix: “Window” function in <code>tidyverse</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html"><i class="fa fa-check"></i><b>5</b> Data Manipulation II</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#this-chapter-2"><i class="fa fa-check"></i><b>5.1</b> This Chapter</a></li>
<li class="chapter" data-level="5.2" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#problems"><i class="fa fa-check"></i><b>5.2</b> Problems</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="control-flow-regular-expressions.html"><a href="control-flow-regular-expressions.html"><i class="fa fa-check"></i><b>6</b> Control Flow; Regular Expressions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="control-flow-regular-expressions.html"><a href="control-flow-regular-expressions.html#this-chapter-3"><i class="fa fa-check"></i><b>6.1</b> This Chapter</a></li>
<li class="chapter" data-level="6.2" data-path="control-flow-regular-expressions.html"><a href="control-flow-regular-expressions.html#control-flow"><i class="fa fa-check"></i><b>6.2</b> Control Flow</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="control-flow-regular-expressions.html"><a href="control-flow-regular-expressions.html#conditional-statements"><i class="fa fa-check"></i><b>6.2.1</b> Conditional statements</a></li>
<li class="chapter" data-level="6.2.2" data-path="control-flow-regular-expressions.html"><a href="control-flow-regular-expressions.html#loops"><i class="fa fa-check"></i><b>6.2.2</b> Loops</a></li>
<li class="chapter" data-level="6.2.3" data-path="control-flow-regular-expressions.html"><a href="control-flow-regular-expressions.html#functions"><i class="fa fa-check"></i><b>6.2.3</b> Functions</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="control-flow-regular-expressions.html"><a href="control-flow-regular-expressions.html#regular-expressions-in-r"><i class="fa fa-check"></i><b>6.3</b> Regular Expressions in R</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="control-flow-regular-expressions.html"><a href="control-flow-regular-expressions.html#basics-of-regular-expressions"><i class="fa fa-check"></i><b>6.3.1</b> Basics of Regular Expressions</a></li>
<li class="chapter" data-level="6.3.2" data-path="control-flow-regular-expressions.html"><a href="control-flow-regular-expressions.html#regular-expressions-in-r-1"><i class="fa fa-check"></i><b>6.3.2</b> Regular Expressions in R</a></li>
<li class="chapter" data-level="6.3.3" data-path="control-flow-regular-expressions.html"><a href="control-flow-regular-expressions.html#tips-for-regular-expressions-in-r"><i class="fa fa-check"></i><b>6.3.3</b> Tips for Regular Expressions in R</a></li>
<li class="chapter" data-level="6.3.4" data-path="control-flow-regular-expressions.html"><a href="control-flow-regular-expressions.html#in-class-practice"><i class="fa fa-check"></i><b>6.3.4</b> In-Class Practice</a></li>
<li class="chapter" data-level="6.3.5" data-path="control-flow-regular-expressions.html"><a href="control-flow-regular-expressions.html#the-practice-regex-file"><i class="fa fa-check"></i><b>6.3.5</b> The Practice Regex File</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html"><i class="fa fa-check"></i><b>7</b> Getting Your Data Right</a>
<ul>
<li class="chapter" data-level="7.1" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#this-chapter-4"><i class="fa fa-check"></i><b>7.1</b> This Chapter</a></li>
<li class="chapter" data-level="7.2" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#getting-your-own-data"><i class="fa fa-check"></i><b>7.2</b> 1. Getting your own data</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#ways-of-obtaining-data"><i class="fa fa-check"></i><b>7.2.1</b> Ways of obtaining data</a></li>
<li class="chapter" data-level="7.2.2" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#major-formats"><i class="fa fa-check"></i><b>7.2.2</b> Major formats</a></li>
<li class="chapter" data-level="7.2.3" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#ways-of-obtaining-data-1"><i class="fa fa-check"></i><b>7.2.3</b> Ways of obtaining data</a></li>
<li class="chapter" data-level="7.2.4" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#major-formats-1"><i class="fa fa-check"></i><b>7.2.4</b> Major formats</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#tidying-data"><i class="fa fa-check"></i><b>7.3</b> 2. Tidying Data</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#basic-principles-of-organizing-data-tidy-data"><i class="fa fa-check"></i><b>7.3.1</b> Basic principles of organizing data: <em>Tidy Data</em></a></li>
<li class="chapter" data-level="7.3.2" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#clean-data-tidy-data-additional-explanations"><i class="fa fa-check"></i><b>7.3.2</b> Clean Data / Tidy Data: <em>additional explanations</em></a></li>
<li class="chapter" data-level="7.3.3" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#discussion-a-bulliet-dataset"><i class="fa fa-check"></i><b>7.3.3</b> <em>Discussion</em>: “A Bulliet Dataset”</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#modeling-data"><i class="fa fa-check"></i><b>7.4</b> 3. Modeling Data</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#categorization-as-a-way-of-modeling-data"><i class="fa fa-check"></i><b>7.4.1</b> Categorization as a Way of modeling data</a></li>
<li class="chapter" data-level="7.4.2" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#normalization"><i class="fa fa-check"></i><b>7.4.2</b> Normalization</a></li>
<li class="chapter" data-level="7.4.3" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#note-proxies-features-abstractions"><i class="fa fa-check"></i><b>7.4.3</b> Note: <em>Proxies</em>, <em>Features</em>, <em>Abstractions</em></a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="getting-your-data-right.html"><a href="getting-your-data-right.html#appendix-ocr-with-r"><i class="fa fa-check"></i><b>7.5</b> Appendix: OCR with R</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html"><i class="fa fa-check"></i><b>8</b> Deep Look into the PUA Dataset</a>
<ul>
<li class="chapter" data-level="8.1" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html#updated-pua-dataset"><i class="fa fa-check"></i><b>8.1</b> Updated PUA Dataset</a></li>
<li class="chapter" data-level="8.2" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html#normalized-and-improved-pua-dataset"><i class="fa fa-check"></i><b>8.2</b> Normalized and Improved PUA Dataset</a></li>
<li class="chapter" data-level="8.3" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html#modeling-pua-dataset"><i class="fa fa-check"></i><b>8.3</b> Modeling PUA Dataset</a></li>
<li class="chapter" data-level="8.4" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html#conceptual-models-for-your-data"><i class="fa fa-check"></i><b>8.4</b> Conceptual Models for Your Data</a></li>
<li class="chapter" data-level="8.5" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html#implementation"><i class="fa fa-check"></i><b>8.5</b> Implementation</a></li>
<li class="chapter" data-level="8.6" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html#homework-assignment"><i class="fa fa-check"></i><b>8.6</b> Homework assignment</a></li>
<li class="chapter" data-level="8.7" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html#reference-materials"><i class="fa fa-check"></i><b>8.7</b> Reference Materials</a></li>
<li class="chapter" data-level="8.8" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html#appendix-1-pua-data-tables"><i class="fa fa-check"></i><b>8.8</b> Appendix 1: PUA Data Tables</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html#main-table"><i class="fa fa-check"></i><b>8.8.1</b> Main Table</a></li>
<li class="chapter" data-level="8.8.2" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html#connection-tables"><i class="fa fa-check"></i><b>8.8.2</b> Connection Tables</a></li>
<li class="chapter" data-level="8.8.3" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html#auxiliary-tables"><i class="fa fa-check"></i><b>8.8.3</b> Auxiliary Tables</a></li>
<li class="chapter" data-level="8.8.4" data-path="deep-look-into-the-pua-dataset.html"><a href="deep-look-into-the-pua-dataset.html#metadata-tables"><i class="fa fa-check"></i><b>8.8.4</b> Metadata Tables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html"><i class="fa fa-check"></i><b>9</b> Visualizations: <code>plot()</code> and <code>ggplot()</code></a>
<ul>
<li class="chapter" data-level="9.1" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#this-chapter-5"><i class="fa fa-check"></i><b>9.1</b> This Chapter</a></li>
<li class="chapter" data-level="9.2" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#conceptual-issues"><i class="fa fa-check"></i><b>9.2</b> Conceptual Issues</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#perception"><i class="fa fa-check"></i><b>9.2.1</b> Perception</a></li>
<li class="chapter" data-level="9.2.2" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#the-rules-of-thumb-for-visualizations"><i class="fa fa-check"></i><b>9.2.2</b> The Rules of Thumb for Visualizations</a></li>
<li class="chapter" data-level="9.2.3" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#types-of-graphs-and-when-to-use-them"><i class="fa fa-check"></i><b>9.2.3</b> Types of Graphs and When to Use Them</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#r-built-in-graphics-functions-quick-overview"><i class="fa fa-check"></i><b>9.3</b> R Built-in Graphics Functions: Quick Overview</a></li>
<li class="chapter" data-level="9.4" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#tidyverse-graphs-ggplot2"><i class="fa fa-check"></i><b>9.4</b> <code>Tidyverse</code> Graphs: <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#grammar-of-graphics"><i class="fa fa-check"></i><b>9.4.1</b> Grammar of Graphics</a></li>
<li class="chapter" data-level="9.4.2" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#code-breakdown"><i class="fa fa-check"></i><b>9.4.2</b> Code Breakdown</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#simpler-graphs"><i class="fa fa-check"></i><b>9.5</b> Simpler graphs</a></li>
<li class="chapter" data-level="9.6" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#other-types-of-graphs"><i class="fa fa-check"></i><b>9.6</b> Other types of graphs</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#scatter-plots"><i class="fa fa-check"></i><b>9.6.1</b> 1. Scatter plots</a></li>
<li class="chapter" data-level="9.6.2" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#line-charts"><i class="fa fa-check"></i><b>9.6.2</b> 2. Line charts</a></li>
<li class="chapter" data-level="9.6.3" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#bar-charts"><i class="fa fa-check"></i><b>9.6.3</b> 3. Bar charts</a></li>
<li class="chapter" data-level="9.6.4" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#histograms"><i class="fa fa-check"></i><b>9.6.4</b> 4. Histograms</a></li>
<li class="chapter" data-level="9.6.5" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#wordclouds"><i class="fa fa-check"></i><b>9.6.5</b> 5. Wordclouds</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#homework-assignment-1"><i class="fa fa-check"></i><b>9.7</b> Homework assignment</a></li>
<li class="chapter" data-level="9.8" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#appendices"><i class="fa fa-check"></i><b>9.8</b> Appendices</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#appendix-1-when-a-simple-table-may-suffice"><i class="fa fa-check"></i><b>9.8.1</b> Appendix 1: When a “Simple” Table May Suffice</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#appendix-interactive-graphs"><i class="fa fa-check"></i><b>9.9</b> Appendix: Interactive Graphs</a>
<ul>
<li class="chapter" data-level="9.9.1" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#appendix-checklist-for-creating-visualizations"><i class="fa fa-check"></i><b>9.9.1</b> Appendix: Checklist for Creating Visualizations</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#appendix-scientific-notation"><i class="fa fa-check"></i><b>9.10</b> Appendix: Scientific Notation</a></li>
<li class="chapter" data-level="9.11" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#homework-solutions-partial"><i class="fa fa-check"></i><b>9.11</b> Homework solutions (partial)</a>
<ul>
<li class="chapter" data-level="9.11.1" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#line-charts-1"><i class="fa fa-check"></i><b>9.11.1</b> Line charts</a></li>
<li class="chapter" data-level="9.11.2" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#bar-charts-1"><i class="fa fa-check"></i><b>9.11.2</b> 3. Bar charts</a></li>
<li class="chapter" data-level="9.11.3" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#histograms-1"><i class="fa fa-check"></i><b>9.11.3</b> 4. Histograms</a></li>
<li class="chapter" data-level="9.11.4" data-path="visualizations-plot-and-ggplot.html"><a href="visualizations-plot-and-ggplot.html#wordclouds---homework"><i class="fa fa-check"></i><b>9.11.4</b> 5. Wordclouds - Homework</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="overview-of-the-pua-dataset.html"><a href="overview-of-the-pua-dataset.html"><i class="fa fa-check"></i><b>10</b> Overview of the PUA dataset</a>
<ul>
<li class="chapter" data-level="10.1" data-path="overview-of-the-pua-dataset.html"><a href="overview-of-the-pua-dataset.html#the-initial-sql-database-extraction-of-tables"><i class="fa fa-check"></i><b>10.1</b> The initial SQL Database: extraction of tables</a></li>
<li class="chapter" data-level="10.2" data-path="overview-of-the-pua-dataset.html"><a href="overview-of-the-pua-dataset.html#extracting-tables-with-r"><i class="fa fa-check"></i><b>10.2</b> Extracting tables with R</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="overview-of-the-pua-dataset.html"><a href="overview-of-the-pua-dataset.html#looking-at-the-data"><i class="fa fa-check"></i><b>10.2.1</b> Looking at the data</a></li>
<li class="chapter" data-level="10.2.2" data-path="overview-of-the-pua-dataset.html"><a href="overview-of-the-pua-dataset.html#reorganization-conceptual-model-for-your-data"><i class="fa fa-check"></i><b>10.2.2</b> Reorganization: Conceptual Model For Your Data</a></li>
<li class="chapter" data-level="10.2.3" data-path="overview-of-the-pua-dataset.html"><a href="overview-of-the-pua-dataset.html#improving-pua-data"><i class="fa fa-check"></i><b>10.2.3</b> Improving PUA Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="geographical-maps-cartograms.html"><a href="geographical-maps-cartograms.html"><i class="fa fa-check"></i><b>11</b> Geographical Maps &amp; Cartograms</a>
<ul>
<li class="chapter" data-level="11.1" data-path="geographical-maps-cartograms.html"><a href="geographical-maps-cartograms.html#creating-base-maps"><i class="fa fa-check"></i><b>11.1</b> Creating Base Maps</a></li>
<li class="chapter" data-level="11.2" data-path="geographical-maps-cartograms.html"><a href="geographical-maps-cartograms.html#core-concepts-and-their-practical-implementations"><i class="fa fa-check"></i><b>11.2</b> Core concepts and their practical implementations</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="geographical-maps-cartograms.html"><a href="geographical-maps-cartograms.html#projection-issues"><i class="fa fa-check"></i><b>11.2.1</b> Projection Issues</a></li>
<li class="chapter" data-level="11.2.2" data-path="geographical-maps-cartograms.html"><a href="geographical-maps-cartograms.html#a-digital-map-layers-of-goodness"><i class="fa fa-check"></i><b>11.2.2</b> A Digital Map: Layers of Goodness</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="geographical-maps-cartograms.html"><a href="geographical-maps-cartograms.html#main-types-of-data-points-lines-polygons"><i class="fa fa-check"></i><b>11.3</b> Main Types of Data: Points, Lines, Polygons</a></li>
<li class="chapter" data-level="11.4" data-path="geographical-maps-cartograms.html"><a href="geographical-maps-cartograms.html#base-maps"><i class="fa fa-check"></i><b>11.4</b> Base maps</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="geographical-maps-cartograms.html"><a href="geographical-maps-cartograms.html#new-libraries"><i class="fa fa-check"></i><b>11.4.1</b> New libraries</a></li>
<li class="chapter" data-level="11.4.2" data-path="geographical-maps-cartograms.html"><a href="geographical-maps-cartograms.html#compiling-the-base-map"><i class="fa fa-check"></i><b>11.4.2</b> Compiling the base map</a></li>
<li class="chapter" data-level="11.4.3" data-path="geographical-maps-cartograms.html"><a href="geographical-maps-cartograms.html#adding-data"><i class="fa fa-check"></i><b>11.4.3</b> Adding data</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="geographical-maps-cartograms.html"><a href="geographical-maps-cartograms.html#raster-base-maps"><i class="fa fa-check"></i><b>11.5</b> Raster base maps</a></li>
<li class="chapter" data-level="11.6" data-path="geographical-maps-cartograms.html"><a href="geographical-maps-cartograms.html#homework-2"><i class="fa fa-check"></i><b>11.6</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="modeling-complex-entities.html"><a href="modeling-complex-entities.html"><i class="fa fa-check"></i><b>12</b> Modeling Complex Entities</a>
<ul>
<li class="chapter" data-level="12.1" data-path="modeling-complex-entities.html"><a href="modeling-complex-entities.html#modeling-regions"><i class="fa fa-check"></i><b>12.1</b> Modeling Regions</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="modeling-complex-entities.html"><a href="modeling-complex-entities.html#base-map-for-al-andalus"><i class="fa fa-check"></i><b>12.1.1</b> Base map for al-Andalus</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="modeling-complex-entities.html"><a href="modeling-complex-entities.html#modeling-periods"><i class="fa fa-check"></i><b>12.2</b> Modeling Periods</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="modeling-complex-entities.html"><a href="modeling-complex-entities.html#a-1000-and-1-tries"><i class="fa fa-check"></i><b>12.2.1</b> A 1000 And 1 Tries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="class-12.html"><a href="class-12.html"><i class="fa fa-check"></i><b>13</b> Class 12</a></li>
<li class="chapter" data-level="14" data-path="class-13.html"><a href="class-13.html"><i class="fa fa-check"></i><b>14</b> Class 13</a></li>
<li class="chapter" data-level="15" data-path="class-14.html"><a href="class-14.html"><i class="fa fa-check"></i><b>15</b> Class 14</a></li>
<li class="chapter" data-level="16" data-path="glossary-of-computer-terms.html"><a href="glossary-of-computer-terms.html"><i class="fa fa-check"></i><b>16</b> Glossary of Computer Terms</a>
<ul>
<li class="chapter" data-level="16.1" data-path="glossary-of-computer-terms.html"><a href="glossary-of-computer-terms.html#general-computer-terms"><i class="fa fa-check"></i><b>16.1</b> General Computer Terms</a></li>
<li class="chapter" data-level="16.2" data-path="glossary-of-computer-terms.html"><a href="glossary-of-computer-terms.html#r-specific-terms"><i class="fa fa-check"></i><b>16.2</b> R-Specific Terms</a></li>
<li class="chapter" data-level="16.3" data-path="glossary-of-computer-terms.html"><a href="glossary-of-computer-terms.html#nlp-and-linguistics"><i class="fa fa-check"></i><b>16.3</b> NLP and Linguistics</a></li>
<li class="chapter" data-level="16.4" data-path="glossary-of-computer-terms.html"><a href="glossary-of-computer-terms.html#machine-learning"><i class="fa fa-check"></i><b>16.4</b> Machine Learning</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="appendices-1.html"><a href="appendices-1.html"><i class="fa fa-check"></i><b>17</b> Appendices</a>
<ul>
<li class="chapter" data-level="17.1" data-path="appendices-1.html"><a href="appendices-1.html#appendix-i-importance-of-basic-computer-skills-for-humanists"><i class="fa fa-check"></i><b>17.1</b> Appendix I: Importance of basic computer skills for humanists</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="appendices-1.html"><a href="appendices-1.html#importance-of-basic-computer-skills-for-humanists"><i class="fa fa-check"></i><b>17.1.1</b> Importance of basic computer skills for humanists</a></li>
<li class="chapter" data-level="17.1.2" data-path="appendices-1.html"><a href="appendices-1.html#access-to-information"><i class="fa fa-check"></i><b>17.1.2</b> Access to information</a></li>
<li class="chapter" data-level="17.1.3" data-path="appendices-1.html"><a href="appendices-1.html#organization-and-management-of-research-material"><i class="fa fa-check"></i><b>17.1.3</b> Organization and management of research material</a></li>
<li class="chapter" data-level="17.1.4" data-path="appendices-1.html"><a href="appendices-1.html#file-organization"><i class="fa fa-check"></i><b>17.1.4</b> File Organization</a></li>
<li class="chapter" data-level="17.1.5" data-path="appendices-1.html"><a href="appendices-1.html#finding-your-way-around-the-computer"><i class="fa fa-check"></i><b>17.1.5</b> Finding your way around the computer</a></li>
<li class="chapter" data-level="17.1.6" data-path="appendices-1.html"><a href="appendices-1.html#common-file-formats-and-extensions"><i class="fa fa-check"></i><b>17.1.6</b> Common file formats and extensions</a></li>
<li class="chapter" data-level="17.1.7" data-path="appendices-1.html"><a href="appendices-1.html#organizing-files-and-folders-for-research-projects"><i class="fa fa-check"></i><b>17.1.7</b> Organizing files and folders for research projects</a></li>
<li class="chapter" data-level="17.1.8" data-path="appendices-1.html"><a href="appendices-1.html#demonstration-of-file-navigation-using-a-file-explorer-windows-or-finder-mac"><i class="fa fa-check"></i><b>17.1.8</b> Demonstration of file navigation using a file explorer (Windows) or Finder (Mac)</a></li>
<li class="chapter" data-level="17.1.9" data-path="appendices-1.html"><a href="appendices-1.html#command-line-basics"><i class="fa fa-check"></i><b>17.1.9</b> Command Line Basics</a></li>
<li class="chapter" data-level="17.1.10" data-path="appendices-1.html"><a href="appendices-1.html#introduction-to-command-line-interfaces"><i class="fa fa-check"></i><b>17.1.10</b> Introduction to command line interfaces</a></li>
<li class="chapter" data-level="17.1.11" data-path="appendices-1.html"><a href="appendices-1.html#command-line-basic-commands"><i class="fa fa-check"></i><b>17.1.11</b> Command Line: Basic Commands</a></li>
<li class="chapter" data-level="17.1.12" data-path="appendices-1.html"><a href="appendices-1.html#creating-moving-renaming-and-deleting-files-and-folders"><i class="fa fa-check"></i><b>17.1.12</b> Creating, moving, renaming, and deleting files and folders</a></li>
<li class="chapter" data-level="17.1.13" data-path="appendices-1.html"><a href="appendices-1.html#tips-for-efficient-command-line-usage"><i class="fa fa-check"></i><b>17.1.13</b> Tips for efficient command line usage</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="bibliography.html"><a href="bibliography.html"><i class="fa fa-check"></i><b>18</b> Bibliography</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">HDIS: Analysis of Prosopographical Data–with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="control-flow-regular-expressions" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Control Flow; Regular Expressions<a href="control-flow-regular-expressions.html#control-flow-regular-expressions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="this-chapter-3" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> This Chapter<a href="control-flow-regular-expressions.html#this-chapter-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>we will discuss and learn about control flow in R, which includes:</p>
<ul>
<li>conditional statements;</li>
<li>loops;</li>
<li>functions;</li>
</ul>
<p>and also:</p>
<ul>
<li>regular expressions;</li>
</ul>
</div>
<div id="control-flow" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Control Flow<a href="control-flow-regular-expressions.html#control-flow" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Control flow refers to the order in which code is executed in a programming language. It is used to create logical structures and conditionally execute code based on specific conditions, enabling you to build more advanced and powerful programs. In R, there are several constructs that allow you to control the flow of your code, such as conditional statements, loops, and functions.</p>
<div id="conditional-statements" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Conditional statements<a href="control-flow-regular-expressions.html#conditional-statements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="if-else-and-else-if-statements" class="section level4 hasAnchor" number="6.2.1.1">
<h4><span class="header-section-number">6.2.1.1</span> <code>if</code>, <code>else</code> and <code>else if</code> statements<a href="control-flow-regular-expressions.html#if-else-and-else-if-statements" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In R, <code>if</code>, <code>else</code>, and <code>else if</code> are used to create conditional statements that control the flow of your code based on specific conditions. These constructs allow you to execute different blocks of code depending on whether certain conditions are met. Here’s a brief explanation of each:</p>
<ol style="list-style-type: decimal">
<li><code>if</code>: The <code>if</code> statement is used to test a condition. If the condition is true, the code within the curly braces <code>{}</code> following the <code>if</code> statement is executed. If the condition is false, the code is skipped.</li>
</ol>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="control-flow-regular-expressions.html#cb58-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb58-2"><a href="control-flow-regular-expressions.html#cb58-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-3"><a href="control-flow-regular-expressions.html#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb58-4"><a href="control-flow-regular-expressions.html#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is positive&quot;</span>)</span>
<span id="cb58-5"><a href="control-flow-regular-expressions.html#cb58-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>In this example, since <code>x &gt; 0</code> is true, the message “x is positive” will be printed.</p>
<ol start="2" style="list-style-type: decimal">
<li><code>else</code>: The <code>else</code> statement is used in conjunction with an <code>if</code> statement. If the condition in the <code>if</code> statement is false, the code within the curly braces <code>{}</code> following the <code>else</code> statement is executed.</li>
</ol>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="control-flow-regular-expressions.html#cb59-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">5</span></span>
<span id="cb59-2"><a href="control-flow-regular-expressions.html#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="control-flow-regular-expressions.html#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb59-4"><a href="control-flow-regular-expressions.html#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is positive&quot;</span>)</span>
<span id="cb59-5"><a href="control-flow-regular-expressions.html#cb59-5" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-6"><a href="control-flow-regular-expressions.html#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is non-positive&quot;</span>)</span>
<span id="cb59-7"><a href="control-flow-regular-expressions.html#cb59-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>In this example, since <code>x &gt; 0</code> is false, the message “x is non-positive” will be printed.</p>
<ol start="3" style="list-style-type: decimal">
<li><code>else if</code>: The <code>else if</code> statement is used to test additional conditions when the previous <code>if</code> or <code>else if</code> conditions are false. If the condition in the <code>else if</code> statement is true, the code within the curly braces <code>{}</code> following the <code>else if</code> statement is executed. If the condition is false, the code is skipped, and the next <code>else if</code> or <code>else</code> statement (if any) is evaluated.</li>
</ol>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="control-flow-regular-expressions.html#cb60-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb60-2"><a href="control-flow-regular-expressions.html#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="control-flow-regular-expressions.html#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb60-4"><a href="control-flow-regular-expressions.html#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is positive&quot;</span>)</span>
<span id="cb60-5"><a href="control-flow-regular-expressions.html#cb60-5" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb60-6"><a href="control-flow-regular-expressions.html#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is negative&quot;</span>)</span>
<span id="cb60-7"><a href="control-flow-regular-expressions.html#cb60-7" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb60-8"><a href="control-flow-regular-expressions.html#cb60-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is zero&quot;</span>)</span>
<span id="cb60-9"><a href="control-flow-regular-expressions.html#cb60-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Keep in mind that only the first condition which is evaluated to <code>True</code> will be executed - the other cases are ignored afterwards. Therefore consider the order in which conditions are tested.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="control-flow-regular-expressions.html#cb61-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">15</span></span>
<span id="cb61-2"><a href="control-flow-regular-expressions.html#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb61-3"><a href="control-flow-regular-expressions.html#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is greater than zero&quot;</span>)</span>
<span id="cb61-4"><a href="control-flow-regular-expressions.html#cb61-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">10</span>) {</span>
<span id="cb61-5"><a href="control-flow-regular-expressions.html#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is greater than ten&quot;</span>)</span>
<span id="cb61-6"><a href="control-flow-regular-expressions.html#cb61-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="control-flow-regular-expressions.html#cb62-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;x is greater than zero&quot;</span></span></code></pre></div>
<p>The output is greater than zero because the first condition is already <code>True</code>, so the second case is ignored even though that condition would be <code>True</code> as well.</p>
</div>
<div id="ifelse-function" class="section level4 hasAnchor" number="6.2.1.2">
<h4><span class="header-section-number">6.2.1.2</span> <code>ifelse()</code> function<a href="control-flow-regular-expressions.html#ifelse-function" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>ifelse()</code> is a vectorized function in R that takes three arguments: a test condition, a value to return if the condition is <code>True</code>, and a value to return if the condition is <code>False</code>. It can be used to create a new vector by applying a condition to an existing vector.</p>
<p>Here’s an example of how to use <code>ifelse()</code>:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="control-flow-regular-expressions.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a vector of numbers</span></span>
<span id="cb63-2"><a href="control-flow-regular-expressions.html#cb63-2" aria-hidden="true" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>, <span class="sc">-</span><span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb63-3"><a href="control-flow-regular-expressions.html#cb63-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-4"><a href="control-flow-regular-expressions.html#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new vector using ifelse()</span></span>
<span id="cb63-5"><a href="control-flow-regular-expressions.html#cb63-5" aria-hidden="true" tabindex="-1"></a>number_signs <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(numbers <span class="sc">&gt;=</span> <span class="dv">0</span>, <span class="st">&quot;positive&quot;</span>, <span class="st">&quot;negative&quot;</span>)</span>
<span id="cb63-6"><a href="control-flow-regular-expressions.html#cb63-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-7"><a href="control-flow-regular-expressions.html#cb63-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the resulting vector</span></span>
<span id="cb63-8"><a href="control-flow-regular-expressions.html#cb63-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(number_signs)</span></code></pre></div>
<p>In this example, we create a numeric vector called <code>numbers</code> containing both positive and negative values. We then use <code>ifelse()</code> to create a new character vector called <code>number_signs</code>. For each element in <code>numbers</code>, <code>ifelse()</code> checks if the number is greater than or equal to 0 (i.e., positive). If the condition is TRUE, the corresponding element in <code>number_signs</code> will be “positive”. If the condition is FALSE, the corresponding element in <code>number_signs</code> will be “negative”. The resulting <code>number_signs</code> vector will look like this:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="control-flow-regular-expressions.html#cb64-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;positive&quot;</span> <span class="st">&quot;negative&quot;</span> <span class="st">&quot;positive&quot;</span> <span class="st">&quot;negative&quot;</span> <span class="st">&quot;positive&quot;</span></span></code></pre></div>
</div>
<div id="tasks" class="section level4 hasAnchor" number="6.2.1.3">
<h4><span class="header-section-number">6.2.1.3</span> Tasks<a href="control-flow-regular-expressions.html#tasks" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>modify this code that would check whether the date (year in Common Era) is pre-Islamic or not; try both approaches.</li>
</ul>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="control-flow-regular-expressions.html#cb65-1" aria-hidden="true" tabindex="-1"></a>dates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">748</span>, <span class="dv">600</span>, <span class="dv">1500</span>, <span class="dv">902</span>, <span class="dv">571</span>, <span class="dv">314</span>, <span class="dv">3</span>)</span></code></pre></div>
</div>
</div>
<div id="loops" class="section level3 hasAnchor" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Loops<a href="control-flow-regular-expressions.html#loops" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Loops are a fundamental programming concept used to execute a block of code repeatedly until a certain condition is met. In R, there are two primary types of loops: <code>for</code> loops and <code>while</code> loops.</p>
<ul>
<li><code>for</code>: This loop is used to iterate over a sequence (e.g., a vector, list, or range) and execute a block of code for each element in the sequence.</li>
<li><code>while</code>: This loop is used to execute a block of code as long as a specified condition is true.</li>
</ul>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="control-flow-regular-expressions.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># for loop</span></span>
<span id="cb66-2"><a href="control-flow-regular-expressions.html#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb66-3"><a href="control-flow-regular-expressions.html#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb66-4"><a href="control-flow-regular-expressions.html#cb66-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb66-5"><a href="control-flow-regular-expressions.html#cb66-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-6"><a href="control-flow-regular-expressions.html#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="co"># while loop</span></span>
<span id="cb66-7"><a href="control-flow-regular-expressions.html#cb66-7" aria-hidden="true" tabindex="-1"></a>counter <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb66-8"><a href="control-flow-regular-expressions.html#cb66-8" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (counter <span class="sc">&lt;=</span> <span class="dv">5</span>) {</span>
<span id="cb66-9"><a href="control-flow-regular-expressions.html#cb66-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(counter)</span>
<span id="cb66-10"><a href="control-flow-regular-expressions.html#cb66-10" aria-hidden="true" tabindex="-1"></a>  counter <span class="ot">&lt;-</span> counter <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb66-11"><a href="control-flow-regular-expressions.html#cb66-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div id="for-loops" class="section level4 hasAnchor" number="6.2.2.1">
<h4><span class="header-section-number">6.2.2.1</span> <code>for</code> loops:<a href="control-flow-regular-expressions.html#for-loops" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A <code>for</code> loop iterates over a sequence (e.g., a vector, list, or range) and executes the code block for each element in the sequence. The syntax for a <code>for</code> loop in R is:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="control-flow-regular-expressions.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (variable <span class="cf">in</span> sequence) {</span>
<span id="cb67-2"><a href="control-flow-regular-expressions.html#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Code to execute for each element in the sequence</span></span>
<span id="cb67-3"><a href="control-flow-regular-expressions.html#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># The current element is stored in variable and is accessible inside the loop</span></span>
<span id="cb67-4"><a href="control-flow-regular-expressions.html#cb67-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>For example, to iterate over a vector of numbers and print each number:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="control-flow-regular-expressions.html#cb68-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb68-2"><a href="control-flow-regular-expressions.html#cb68-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-3"><a href="control-flow-regular-expressions.html#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (number <span class="cf">in</span> numbers) {</span>
<span id="cb68-4"><a href="control-flow-regular-expressions.html#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(number)</span>
<span id="cb68-5"><a href="control-flow-regular-expressions.html#cb68-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="while-loops" class="section level4 hasAnchor" number="6.2.2.2">
<h4><span class="header-section-number">6.2.2.2</span> <code>while</code> loops:<a href="control-flow-regular-expressions.html#while-loops" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A <code>while</code> loop executes a block of code as long as a specified condition is true. The syntax for a <code>while</code> loop in R is:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="control-flow-regular-expressions.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (condition) {</span>
<span id="cb69-2"><a href="control-flow-regular-expressions.html#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Code to execute while the condition is true</span></span>
<span id="cb69-3"><a href="control-flow-regular-expressions.html#cb69-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>For example, to print the numbers from 1 to 5 using a <code>while</code> loop:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="control-flow-regular-expressions.html#cb70-1" aria-hidden="true" tabindex="-1"></a>counter <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb70-2"><a href="control-flow-regular-expressions.html#cb70-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-3"><a href="control-flow-regular-expressions.html#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (counter <span class="sc">&lt;=</span> <span class="dv">5</span>) {</span>
<span id="cb70-4"><a href="control-flow-regular-expressions.html#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(counter)</span>
<span id="cb70-5"><a href="control-flow-regular-expressions.html#cb70-5" aria-hidden="true" tabindex="-1"></a>  counter <span class="ot">&lt;-</span> counter <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb70-6"><a href="control-flow-regular-expressions.html#cb70-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>While loops can be powerful, but they can also lead to infinite loops if the specified condition never becomes false. Make sure to include logic inside the loop that eventually makes the condition false to avoid infinite loops.</p>
<p>In addition to <code>while</code> loops, R provides the <code>repeat</code> loop.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="control-flow-regular-expressions.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span>  {</span>
<span id="cb71-2"><a href="control-flow-regular-expressions.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Do something</span></span>
<span id="cb71-3"><a href="control-flow-regular-expressions.html#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (condition) {</span>
<span id="cb71-4"><a href="control-flow-regular-expressions.html#cb71-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If true exit the loop</span></span>
<span id="cb71-5"><a href="control-flow-regular-expressions.html#cb71-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb71-6"><a href="control-flow-regular-expressions.html#cb71-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb71-7"><a href="control-flow-regular-expressions.html#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Do something else only if the condition was evaluated as False</span></span>
<span id="cb71-8"><a href="control-flow-regular-expressions.html#cb71-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The repeat loop is executed until the command to exit it is called: <code>break</code>. Compared to the <code>while</code> loop, the <code>repeat</code> loop test the condition at the point you instruct to test the condition (i.e. somewhere in the middle or at the end of the statements <strong>inside</strong> the loop). The <code>while</code> loop always tests <strong>before</strong> executing the next cycle of the loop statements.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="control-flow-regular-expressions.html#cb72-1" aria-hidden="true" tabindex="-1"></a>counter <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb72-2"><a href="control-flow-regular-expressions.html#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="control-flow-regular-expressions.html#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (counter <span class="sc">&lt;=</span> <span class="dv">5</span>) {</span>
<span id="cb72-4"><a href="control-flow-regular-expressions.html#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&#39;while-loop&#39;</span>)</span>
<span id="cb72-5"><a href="control-flow-regular-expressions.html#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(counter)</span>
<span id="cb72-6"><a href="control-flow-regular-expressions.html#cb72-6" aria-hidden="true" tabindex="-1"></a>  counter <span class="ot">&lt;-</span> counter <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb72-7"><a href="control-flow-regular-expressions.html#cb72-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The output looks as follows:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="control-flow-regular-expressions.html#cb73-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;while-loop&quot;</span></span>
<span id="cb73-2"><a href="control-flow-regular-expressions.html#cb73-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">5</span></span></code></pre></div>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="control-flow-regular-expressions.html#cb74-1" aria-hidden="true" tabindex="-1"></a>counter <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb74-2"><a href="control-flow-regular-expressions.html#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="control-flow-regular-expressions.html#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span>  {</span>
<span id="cb74-4"><a href="control-flow-regular-expressions.html#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&#39;repeat-loop&#39;</span>)</span>
<span id="cb74-5"><a href="control-flow-regular-expressions.html#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(counter)</span>
<span id="cb74-6"><a href="control-flow-regular-expressions.html#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (counter <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb74-7"><a href="control-flow-regular-expressions.html#cb74-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb74-8"><a href="control-flow-regular-expressions.html#cb74-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb74-9"><a href="control-flow-regular-expressions.html#cb74-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&#39;Increment counter&#39;</span>)</span>
<span id="cb74-10"><a href="control-flow-regular-expressions.html#cb74-10" aria-hidden="true" tabindex="-1"></a>  counter <span class="ot">&lt;-</span> counter <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb74-11"><a href="control-flow-regular-expressions.html#cb74-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The output looks as follows:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="control-flow-regular-expressions.html#cb75-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;repeat-loop&quot;</span></span>
<span id="cb75-2"><a href="control-flow-regular-expressions.html#cb75-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">5</span></span>
<span id="cb75-3"><a href="control-flow-regular-expressions.html#cb75-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Increment counter&quot;</span></span>
<span id="cb75-4"><a href="control-flow-regular-expressions.html#cb75-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;repeat-loop&quot;</span></span>
<span id="cb75-5"><a href="control-flow-regular-expressions.html#cb75-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">6</span></span></code></pre></div>
<p>Since everything in R revolves around vectors, there are other efficient ways for doing loop-like operation and we will not need to use loops in most cases. However, there are cases when loops are still the only way to go. We will come back to them in the next lessons.</p>
</div>
<div id="break-and-next" class="section level4 hasAnchor" number="6.2.2.3">
<h4><span class="header-section-number">6.2.2.3</span> <code>break</code> and <code>next</code><a href="control-flow-regular-expressions.html#break-and-next" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><code>break</code>: This statement is used to exit a loop prematurely. Hardly necessary in <code>while</code> loops as the condition should take care of exiting the loop.</li>
<li><code>next</code>: This statement is used to skip the current iteration of a loop and continue with the next iteration.</li>
</ul>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="control-flow-regular-expressions.html#cb76-1" aria-hidden="true" tabindex="-1"></a>fruits <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;cherry&quot;</span>)</span>
<span id="cb76-2"><a href="control-flow-regular-expressions.html#cb76-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-3"><a href="control-flow-regular-expressions.html#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (x <span class="cf">in</span> fruits) {</span>
<span id="cb76-4"><a href="control-flow-regular-expressions.html#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&#39;The current fruit is:&#39;</span>)</span>
<span id="cb76-5"><a href="control-flow-regular-expressions.html#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (x <span class="sc">==</span> <span class="st">&quot;banana&quot;</span>) {</span>
<span id="cb76-6"><a href="control-flow-regular-expressions.html#cb76-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">next</span></span>
<span id="cb76-7"><a href="control-flow-regular-expressions.html#cb76-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb76-8"><a href="control-flow-regular-expressions.html#cb76-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(x)</span>
<span id="cb76-9"><a href="control-flow-regular-expressions.html#cb76-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The output looks as follows:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="control-flow-regular-expressions.html#cb77-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;The current fruit is:&quot;</span></span>
<span id="cb77-2"><a href="control-flow-regular-expressions.html#cb77-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;apple&quot;</span></span>
<span id="cb77-3"><a href="control-flow-regular-expressions.html#cb77-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;The current fruit is:&quot;</span></span>
<span id="cb77-4"><a href="control-flow-regular-expressions.html#cb77-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;The current fruit is:&quot;</span></span>
<span id="cb77-5"><a href="control-flow-regular-expressions.html#cb77-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;cherry&quot;</span></span></code></pre></div>
</div>
<div id="tasks-1" class="section level4 hasAnchor" number="6.2.2.4">
<h4><span class="header-section-number">6.2.2.4</span> Tasks<a href="control-flow-regular-expressions.html#tasks-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>sort the dates (year in Common Era) into two vectors: one should hold pre-Islamic dates and the other dates after the Hijra. Use a <code>for</code> loop. Add elements to a vector with <code>append(vector, new_element)</code></li>
</ul>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="control-flow-regular-expressions.html#cb78-1" aria-hidden="true" tabindex="-1"></a>dates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">748</span>, <span class="dv">600</span>, <span class="dv">1500</span>, <span class="dv">902</span>, <span class="dv">571</span>, <span class="dv">314</span>, <span class="dv">3</span>)</span>
<span id="cb78-2"><a href="control-flow-regular-expressions.html#cb78-2" aria-hidden="true" tabindex="-1"></a>preislamic <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb78-3"><a href="control-flow-regular-expressions.html#cb78-3" aria-hidden="true" tabindex="-1"></a>postislamic <span class="ot">&lt;-</span> <span class="fu">c</span>()</span></code></pre></div>
<ul>
<li>sort the dates (year in Common Era) into two vectors: one should hold pre-Islamic dates and the other dates after the Hijra. Use a <code>while</code> loop.</li>
</ul>
</div>
</div>
<div id="functions" class="section level3 hasAnchor" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> Functions<a href="control-flow-regular-expressions.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Functions are reusable blocks of code that can be defined and called by name. They can take input arguments, perform a specific task, and return a result. We have already seen some build-in functions as well as functions that we load from different packages. What is important to stress now is that we can also build our own functions.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="control-flow-regular-expressions.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function that adds two numbers</span></span>
<span id="cb79-2"><a href="control-flow-regular-expressions.html#cb79-2" aria-hidden="true" tabindex="-1"></a>add_numbers <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb79-3"><a href="control-flow-regular-expressions.html#cb79-3" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> a <span class="sc">+</span> b</span>
<span id="cb79-4"><a href="control-flow-regular-expressions.html#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(x)</span>
<span id="cb79-5"><a href="control-flow-regular-expressions.html#cb79-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb79-6"><a href="control-flow-regular-expressions.html#cb79-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-7"><a href="control-flow-regular-expressions.html#cb79-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Call the function</span></span>
<span id="cb79-8"><a href="control-flow-regular-expressions.html#cb79-8" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">add_numbers</span>(<span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb79-9"><a href="control-flow-regular-expressions.html#cb79-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code></pre></div>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="control-flow-regular-expressions.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function that prints &#39;hello world!&#39;</span></span>
<span id="cb80-2"><a href="control-flow-regular-expressions.html#cb80-2" aria-hidden="true" tabindex="-1"></a>print_hello_world <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb80-3"><a href="control-flow-regular-expressions.html#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&#39;~^^~&#39;</span>)</span>
<span id="cb80-4"><a href="control-flow-regular-expressions.html#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&#39;hello world!&#39;</span>)</span>
<span id="cb80-5"><a href="control-flow-regular-expressions.html#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&#39;~^^~&#39;</span>)</span>
<span id="cb80-6"><a href="control-flow-regular-expressions.html#cb80-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb80-7"><a href="control-flow-regular-expressions.html#cb80-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-8"><a href="control-flow-regular-expressions.html#cb80-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb80-9"><a href="control-flow-regular-expressions.html#cb80-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&#39;=====&#39;</span>)</span>
<span id="cb80-10"><a href="control-flow-regular-expressions.html#cb80-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">2</span>) {</span>
<span id="cb80-11"><a href="control-flow-regular-expressions.html#cb80-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Print those statements from the function</span></span>
<span id="cb80-12"><a href="control-flow-regular-expressions.html#cb80-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print_hello_world</span>()</span>
<span id="cb80-13"><a href="control-flow-regular-expressions.html#cb80-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb80-14"><a href="control-flow-regular-expressions.html#cb80-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb80-15"><a href="control-flow-regular-expressions.html#cb80-15" aria-hidden="true" tabindex="-1"></a><span class="fu">print_hello_world</span>()</span></code></pre></div>
<p>The output will look as follows:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="control-flow-regular-expressions.html#cb81-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;=====&quot;</span></span>
<span id="cb81-2"><a href="control-flow-regular-expressions.html#cb81-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;=====&quot;</span></span>
<span id="cb81-3"><a href="control-flow-regular-expressions.html#cb81-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;~^^~&quot;</span></span>
<span id="cb81-4"><a href="control-flow-regular-expressions.html#cb81-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;hello world!&quot;</span></span>
<span id="cb81-5"><a href="control-flow-regular-expressions.html#cb81-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;~^^~&quot;</span></span>
<span id="cb81-6"><a href="control-flow-regular-expressions.html#cb81-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;=====&quot;</span></span>
<span id="cb81-7"><a href="control-flow-regular-expressions.html#cb81-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;=====&quot;</span></span>
<span id="cb81-8"><a href="control-flow-regular-expressions.html#cb81-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;=====&quot;</span></span>
<span id="cb81-9"><a href="control-flow-regular-expressions.html#cb81-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;=====&quot;</span></span>
<span id="cb81-10"><a href="control-flow-regular-expressions.html#cb81-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;=====&quot;</span></span>
<span id="cb81-11"><a href="control-flow-regular-expressions.html#cb81-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;=====&quot;</span></span>
<span id="cb81-12"><a href="control-flow-regular-expressions.html#cb81-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;=====&quot;</span></span>
<span id="cb81-13"><a href="control-flow-regular-expressions.html#cb81-13" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;=====&quot;</span></span>
<span id="cb81-14"><a href="control-flow-regular-expressions.html#cb81-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;~^^~&quot;</span></span>
<span id="cb81-15"><a href="control-flow-regular-expressions.html#cb81-15" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;hello world!&quot;</span></span>
<span id="cb81-16"><a href="control-flow-regular-expressions.html#cb81-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;~^^~&quot;</span></span></code></pre></div>
<p>We want to group certain statements into a separate function whenever we execute the same block of statements multiple times in our code. Grouping those statements into a function ensures the statements are called in the exact same way in each of the occurrences without having to type the same code again (which is usually prone to errors).</p>
<div id="tasks-2" class="section level4 hasAnchor" number="6.2.3.1">
<h4><span class="header-section-number">6.2.3.1</span> Tasks<a href="control-flow-regular-expressions.html#tasks-2" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>write a function that converts AH dates (just years) to CE dates;
<ul>
<li>think of additional convenient features, like converting a year to a nice date statement. For example, we take <code>750</code> and it gets converted into 750AH/1349CE, or something like that.</li>
</ul></li>
<li>write a function that converts CE dates to AH dates;</li>
<li>write a function that converts period statements like <code>132-656</code> and converts it to 132-656AH/750-1258CE, and the other way around.</li>
</ul>
<p>Useful functions for these tasks:
- <code>paste()</code> and <code>paste0()</code> — they allow to “paste” things together. For example, <code>paste0(750, "CE")</code> will give <code>750CE</code>.
- <code>paste()</code> — automatically inserts a single space between pasted elements;
- <code>paste0()</code> — pastes elements together, creating a single string of characters;</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="control-flow-regular-expressions.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="dv">750</span>, <span class="st">&quot;CE&quot;</span>))</span>
<span id="cb82-2"><a href="control-flow-regular-expressions.html#cb82-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;750 CE&quot;</span></span>
<span id="cb82-3"><a href="control-flow-regular-expressions.html#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="dv">750</span>, <span class="st">&quot;CE&quot;</span>))</span>
<span id="cb82-4"><a href="control-flow-regular-expressions.html#cb82-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;750CE&quot;</span></span>
<span id="cb82-5"><a href="control-flow-regular-expressions.html#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="dv">750</span>, <span class="st">&quot;CE&quot;</span>, <span class="at">sep=</span><span class="st">&quot;;&quot;</span>))</span>
<span id="cb82-6"><a href="control-flow-regular-expressions.html#cb82-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;750;CE&quot;</span></span>
<span id="cb82-7"><a href="control-flow-regular-expressions.html#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(fruits, <span class="at">collapse=</span><span class="st">&quot;, &quot;</span>))</span>
<span id="cb82-8"><a href="control-flow-regular-expressions.html#cb82-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;apple, banana, cherry&quot;</span></span></code></pre></div>
<p>Try to apply the final function to a vector of dates: all values in the vector should be converted.</p>
<p><strong>Solution (partial):</strong></p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="control-flow-regular-expressions.html#cb83-1" aria-hidden="true" tabindex="-1"></a>AH2CEa <span class="ot">&lt;-</span> <span class="cf">function</span>(AH) {</span>
<span id="cb83-2"><a href="control-flow-regular-expressions.html#cb83-2" aria-hidden="true" tabindex="-1"></a>  CE <span class="ot">&lt;-</span> <span class="fu">round</span>(AH <span class="sc">-</span> AH<span class="sc">/</span><span class="dv">33</span> <span class="sc">+</span> <span class="dv">622</span>)</span>
<span id="cb83-3"><a href="control-flow-regular-expressions.html#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(CE)</span>
<span id="cb83-4"><a href="control-flow-regular-expressions.html#cb83-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb83-5"><a href="control-flow-regular-expressions.html#cb83-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-6"><a href="control-flow-regular-expressions.html#cb83-6" aria-hidden="true" tabindex="-1"></a>AH2CEb <span class="ot">&lt;-</span> <span class="cf">function</span>(AH) {</span>
<span id="cb83-7"><a href="control-flow-regular-expressions.html#cb83-7" aria-hidden="true" tabindex="-1"></a>  CE <span class="ot">&lt;-</span> <span class="fu">round</span>(AH <span class="sc">-</span> AH<span class="sc">/</span><span class="dv">33</span> <span class="sc">+</span> <span class="dv">622</span>)</span>
<span id="cb83-8"><a href="control-flow-regular-expressions.html#cb83-8" aria-hidden="true" tabindex="-1"></a>  AH <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(AH <span class="sc">==</span> <span class="dv">0</span>, <span class="dv">1</span>, AH)</span>
<span id="cb83-9"><a href="control-flow-regular-expressions.html#cb83-9" aria-hidden="true" tabindex="-1"></a>  final <span class="ot">&lt;-</span> <span class="fu">paste0</span>(AH, <span class="st">&quot; AH / &quot;</span>, CE, <span class="st">&quot; CE&quot;</span>)</span>
<span id="cb83-10"><a href="control-flow-regular-expressions.html#cb83-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(final)</span>
<span id="cb83-11"><a href="control-flow-regular-expressions.html#cb83-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb83-12"><a href="control-flow-regular-expressions.html#cb83-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-13"><a href="control-flow-regular-expressions.html#cb83-13" aria-hidden="true" tabindex="-1"></a>periodsAH <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1400</span>, <span class="dv">50</span>)</span>
<span id="cb83-14"><a href="control-flow-regular-expressions.html#cb83-14" aria-hidden="true" tabindex="-1"></a>periodsCEa <span class="ot">&lt;-</span> <span class="fu">AH2CEa</span>(periodsAH)</span>
<span id="cb83-15"><a href="control-flow-regular-expressions.html#cb83-15" aria-hidden="true" tabindex="-1"></a>periodsCEb <span class="ot">&lt;-</span> <span class="fu">AH2CEb</span>(periodsAH)</span></code></pre></div>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="control-flow-regular-expressions.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> periodsCEa</span>
<span id="cb84-2"><a href="control-flow-regular-expressions.html#cb84-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>]  <span class="dv">622</span>  <span class="dv">670</span>  <span class="dv">719</span>  <span class="dv">767</span>  <span class="dv">816</span>  <span class="dv">864</span>  <span class="dv">913</span>  <span class="dv">961</span> <span class="dv">1010</span> <span class="dv">1058</span> <span class="dv">1107</span> <span class="dv">1155</span> <span class="dv">1204</span> <span class="dv">1252</span> <span class="dv">1301</span> <span class="dv">1349</span> <span class="dv">1398</span> <span class="dv">1446</span> <span class="dv">1495</span> <span class="dv">1543</span> <span class="dv">1592</span> <span class="dv">1640</span> <span class="dv">1689</span></span>
<span id="cb84-3"><a href="control-flow-regular-expressions.html#cb84-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">24</span>] <span class="dv">1737</span> <span class="dv">1786</span> <span class="dv">1834</span> <span class="dv">1883</span> <span class="dv">1931</span> <span class="dv">1980</span></span></code></pre></div>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="control-flow-regular-expressions.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> periodsCEb</span>
<span id="cb85-2"><a href="control-flow-regular-expressions.html#cb85-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;1 AH / 622 CE&quot;</span>     <span class="st">&quot;50 AH / 670 CE&quot;</span>    <span class="st">&quot;100 AH / 719 CE&quot;</span>   <span class="st">&quot;150 AH / 767 CE&quot;</span>   <span class="st">&quot;200 AH / 816 CE&quot;</span>  </span>
<span id="cb85-3"><a href="control-flow-regular-expressions.html#cb85-3" aria-hidden="true" tabindex="-1"></a> [<span class="dv">6</span>] <span class="st">&quot;250 AH / 864 CE&quot;</span>   <span class="st">&quot;300 AH / 913 CE&quot;</span>   <span class="st">&quot;350 AH / 961 CE&quot;</span>   <span class="st">&quot;400 AH / 1010 CE&quot;</span>  <span class="st">&quot;450 AH / 1058 CE&quot;</span> </span>
<span id="cb85-4"><a href="control-flow-regular-expressions.html#cb85-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">&quot;500 AH / 1107 CE&quot;</span>  <span class="st">&quot;550 AH / 1155 CE&quot;</span>  <span class="st">&quot;600 AH / 1204 CE&quot;</span>  <span class="st">&quot;650 AH / 1252 CE&quot;</span>  <span class="st">&quot;700 AH / 1301 CE&quot;</span> </span>
<span id="cb85-5"><a href="control-flow-regular-expressions.html#cb85-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">16</span>] <span class="st">&quot;750 AH / 1349 CE&quot;</span>  <span class="st">&quot;800 AH / 1398 CE&quot;</span>  <span class="st">&quot;850 AH / 1446 CE&quot;</span>  <span class="st">&quot;900 AH / 1495 CE&quot;</span>  <span class="st">&quot;950 AH / 1543 CE&quot;</span> </span>
<span id="cb85-6"><a href="control-flow-regular-expressions.html#cb85-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">21</span>] <span class="st">&quot;1000 AH / 1592 CE&quot;</span> <span class="st">&quot;1050 AH / 1640 CE&quot;</span> <span class="st">&quot;1100 AH / 1689 CE&quot;</span> <span class="st">&quot;1150 AH / 1737 CE&quot;</span> <span class="st">&quot;1200 AH / 1786 CE&quot;</span></span>
<span id="cb85-7"><a href="control-flow-regular-expressions.html#cb85-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">26</span>] <span class="st">&quot;1250 AH / 1834 CE&quot;</span> <span class="st">&quot;1300 AH / 1883 CE&quot;</span> <span class="st">&quot;1350 AH / 1931 CE&quot;</span> <span class="st">&quot;1400 AH / 1980 CE&quot;</span></span></code></pre></div>
</div>
</div>
</div>
<div id="regular-expressions-in-r" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Regular Expressions in R<a href="control-flow-regular-expressions.html#regular-expressions-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Regular expressions (often abbreviated as regex or regexp) are a powerful pattern-matching tool used in text processing and searching. They are essentially a sequence of characters that define a search pattern, which can then be used to find, replace, or manipulate text based on that pattern. Regular expressions are widely used in programming languages, text editors, search engines, and other tools that deal with text data.</p>
<p>Like most other programming languages, R has support for regular expressions and in this tutorial will guide you through their usage in R.</p>
<div id="basics-of-regular-expressions" class="section level3 hasAnchor" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> Basics of Regular Expressions<a href="control-flow-regular-expressions.html#basics-of-regular-expressions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here are some examples for the first part of the tutorial, focusing on the basics of regular expressions:</p>
<ol style="list-style-type: decimal">
<li>Literals:
<ul>
<li>Literal characters match themselves exactly.</li>
<li>Example:
<ul>
<li>Pattern: <code>cat</code></li>
<li>Matches: <code>'cat'</code> in the string <code>'The cat is on the mat.'</code></li>
</ul></li>
</ul></li>
<li>Metacharacters:
<ul>
<li>Metacharacters have special meanings in regex and are used to build more complex patterns.</li>
<li>Example metacharacters: <code>.</code> (matches any single character), <code>*</code> (matches zero or more repetitions of the preceding character), <code>+</code> (matches one or more repetitions of the preceding character)</li>
<li>Example:
<ul>
<li>Pattern: <code>c.t</code></li>
<li>Matches: <code>'cat'</code>, <code>'cot'</code>, <code>'c1t'</code>, etc.</li>
</ul></li>
</ul></li>
<li>Character classes:
<ul>
<li>Character classes are used to match specific types of characters.</li>
<li>Examples: <code>\d</code> (matches digits), <code>\w</code> (matches word characters), <code>\s</code> (matches whitespace characters)</li>
<li>Example:
<ul>
<li>Pattern: <code>\d{4}-\d{2}-\d{2}</code></li>
<li>Matches: <code>'2021-09-30'</code> in the string <code>'The event will take place on 2021-09-30.'</code></li>
</ul></li>
</ul></li>
<li>Custom character classes:
<ul>
<li>You can create custom character classes using square brackets <code>[...]</code>.</li>
<li>Example: <code>[aeiou]</code> (matches any vowel), <code>[A-Za-z0-9]</code> (matches any alphanumeric character)</li>
<li>Example:
<ul>
<li>Pattern: <code>b[aeiou]t</code></li>
<li>Matches: <code>'bat'</code>, <code>'bet'</code>, <code>'bit'</code>, <code>'bot'</code>, <code>'but'</code></li>
</ul></li>
</ul></li>
<li>Quantifiers:
<ul>
<li>Quantifiers specify how many times a character or a group of characters should be repeated.</li>
<li>Examples: <code>*</code> (zero or more), <code>+</code> (one or more), <code>?</code> (zero or one), <code>{n}</code> (exactly n times), <code>{n,}</code> (at least n times), <code>{n,m}</code> (at least n, but not more than m times)</li>
<li>Example:
<ul>
<li>Pattern: <code>ca{2,4}t</code></li>
<li>Matches: <code>'caat'</code>, <code>'caaat'</code>, <code>'caaaat'</code></li>
</ul></li>
</ul></li>
<li>Grouping with parentheses:
<ul>
<li>Parentheses are used to group characters and apply quantifiers to the entire group.</li>
<li>Example:
<ul>
<li>Pattern: <code>(ab)+</code></li>
<li>Matches: <code>'ab'</code>, <code>'abab'</code>, <code>'ababab'</code>, etc.</li>
</ul></li>
</ul></li>
<li>Alternation with the pipe symbol:
<ul>
<li>The pipe symbol <code>|</code> is used to represent alternation (i.e., a choice between multiple patterns).</li>
<li>Example:
<ul>
<li>Pattern: <code>apple|banana</code></li>
<li>Matches: <code>'apple'</code> or <code>'banana'</code></li>
</ul></li>
</ul></li>
<li>Anchors: Anchors are used to specify the position of the match in the input string, which can be extremely helpful in a great number of research scenarios:
<ul>
<li><code>^</code> and <code>$</code> match the beginning and the end of a string respectively.</li>
<li>Example:
<ul>
<li><code>^this</code> will only match the first instance of “this” in <code>'this is ridiculous and this is ridiculous'</code>, while <code>ridiculous$</code> will only match the last instance of “ridiculous”.</li>
</ul></li>
<li><code>\b</code> matches word boundary.</li>
<li>Example:
<ul>
<li><code>cat</code> will get two matches in <code>'This cat is a catastrophe waiting to happen!'</code>: the first match will be <code>cat</code> in “cat” , while the second match will be <code>cat</code> in “catastrophe”.</li>
<li><code>\bcat\b</code> will only match <code>cat</code> in “cat”.</li>
</ul></li>
</ul></li>
</ol>
<p>These examples should help you demonstrate the basics of regular expressions and how they can be used to create patterns for matching text. Remember to provide explanations and context for each example, so readers can understand the concepts being introduced.</p>
</div>
<div id="regular-expressions-in-r-1" class="section level3 hasAnchor" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> Regular Expressions in R<a href="control-flow-regular-expressions.html#regular-expressions-in-r-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There is a number of regular expression functions in R, but we will stick to what we have in <code>tidyverse</code>. (You can learn about others on your own.) In the <code>tidyverse</code>, regular expressions are often used in conjunction with string manipulation functions from the <code>stringr</code> package. The <code>stringr</code> package provides a consistent, simple, and efficient set of functions for working with strings, and it is part of the <code>tidyverse</code>. Here are some examples of using regular expressions with <code>stringr</code> functions (Run these lines in R to check the results!):</p>
<ol style="list-style-type: decimal">
<li><code>str_detect()</code>: Test if a pattern is present in a string.</li>
</ol>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="control-flow-regular-expressions.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb86-2"><a href="control-flow-regular-expressions.html#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="control-flow-regular-expressions.html#cb86-3" aria-hidden="true" tabindex="-1"></a>words <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;cherry&quot;</span>, <span class="st">&quot;date&quot;</span>)</span>
<span id="cb86-4"><a href="control-flow-regular-expressions.html#cb86-4" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="st">&quot;a.&quot;</span></span>
<span id="cb86-5"><a href="control-flow-regular-expressions.html#cb86-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-6"><a href="control-flow-regular-expressions.html#cb86-6" aria-hidden="true" tabindex="-1"></a>words_with_a <span class="ot">&lt;-</span> <span class="fu">str_detect</span>(words, pattern)</span>
<span id="cb86-7"><a href="control-flow-regular-expressions.html#cb86-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(words_with_a)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><code>str_replace()</code>: Replace the <strong>first</strong> occurrence of a pattern with a specified string.</li>
</ol>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="control-flow-regular-expressions.html#cb87-1" aria-hidden="true" tabindex="-1"></a>text <span class="ot">&lt;-</span> <span class="st">&quot;The quick brown fox jumps over the lazy dog.&quot;</span></span>
<span id="cb87-2"><a href="control-flow-regular-expressions.html#cb87-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="st">&quot;o</span><span class="sc">\\</span><span class="st">w+&quot;</span></span>
<span id="cb87-3"><a href="control-flow-regular-expressions.html#cb87-3" aria-hidden="true" tabindex="-1"></a>replacement <span class="ot">&lt;-</span> <span class="st">&quot;XXXX&quot;</span></span>
<span id="cb87-4"><a href="control-flow-regular-expressions.html#cb87-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-5"><a href="control-flow-regular-expressions.html#cb87-5" aria-hidden="true" tabindex="-1"></a>new_text <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(text, pattern, replacement)</span>
<span id="cb87-6"><a href="control-flow-regular-expressions.html#cb87-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(new_text)</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li><code>str_replace_all()</code>: Replace <strong>all</strong> occurrences of a pattern with a specified string.</li>
</ol>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="control-flow-regular-expressions.html#cb88-1" aria-hidden="true" tabindex="-1"></a>text <span class="ot">&lt;-</span> <span class="st">&quot;The quick brown fox jumps over the lazy dog.&quot;</span></span>
<span id="cb88-2"><a href="control-flow-regular-expressions.html#cb88-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="st">&quot;o</span><span class="sc">\\</span><span class="st">w+&quot;</span></span>
<span id="cb88-3"><a href="control-flow-regular-expressions.html#cb88-3" aria-hidden="true" tabindex="-1"></a>replacement <span class="ot">&lt;-</span> <span class="st">&quot;XXXX&quot;</span></span>
<span id="cb88-4"><a href="control-flow-regular-expressions.html#cb88-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-5"><a href="control-flow-regular-expressions.html#cb88-5" aria-hidden="true" tabindex="-1"></a>new_text <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(text, pattern, replacement)</span>
<span id="cb88-6"><a href="control-flow-regular-expressions.html#cb88-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(new_text)</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li><code>str_extract()</code>: Extract the <strong>first</strong> occurrence of a pattern from a string.</li>
</ol>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="control-flow-regular-expressions.html#cb89-1" aria-hidden="true" tabindex="-1"></a>text <span class="ot">&lt;-</span> <span class="st">&quot;The price is $25.99, and the discount is $5.&quot;</span></span>
<span id="cb89-2"><a href="control-flow-regular-expressions.html#cb89-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">$</span><span class="sc">\\</span><span class="st">d+</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">d{2}&quot;</span></span>
<span id="cb89-3"><a href="control-flow-regular-expressions.html#cb89-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-4"><a href="control-flow-regular-expressions.html#cb89-4" aria-hidden="true" tabindex="-1"></a>price <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(text, pattern)</span>
<span id="cb89-5"><a href="control-flow-regular-expressions.html#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(price)</span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li><code>str_extract_all()</code>: Extract <strong>all</strong> occurrences of a pattern from a string.</li>
</ol>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="control-flow-regular-expressions.html#cb90-1" aria-hidden="true" tabindex="-1"></a>text <span class="ot">&lt;-</span> <span class="st">&quot;The price is $25.99, and the discount is $5.&quot;</span></span>
<span id="cb90-2"><a href="control-flow-regular-expressions.html#cb90-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">$</span><span class="sc">\\</span><span class="st">d+(</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">d{2})?&quot;</span></span>
<span id="cb90-3"><a href="control-flow-regular-expressions.html#cb90-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-4"><a href="control-flow-regular-expressions.html#cb90-4" aria-hidden="true" tabindex="-1"></a>prices <span class="ot">&lt;-</span> <span class="fu">str_extract_all</span>(text, pattern)</span>
<span id="cb90-5"><a href="control-flow-regular-expressions.html#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(prices)</span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li><code>str_split()</code>: Split a string based on a pattern.</li>
</ol>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="control-flow-regular-expressions.html#cb91-1" aria-hidden="true" tabindex="-1"></a>text <span class="ot">&lt;-</span> <span class="st">&quot;apple,banana;cherry|date&quot;</span></span>
<span id="cb91-2"><a href="control-flow-regular-expressions.html#cb91-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="st">&quot;,&quot;</span></span>
<span id="cb91-3"><a href="control-flow-regular-expressions.html#cb91-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-4"><a href="control-flow-regular-expressions.html#cb91-4" aria-hidden="true" tabindex="-1"></a>split_text <span class="ot">&lt;-</span> <span class="fu">str_split</span>(text, pattern)</span>
<span id="cb91-5"><a href="control-flow-regular-expressions.html#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(split_text)</span></code></pre></div>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="control-flow-regular-expressions.html#cb92-1" aria-hidden="true" tabindex="-1"></a>text <span class="ot">&lt;-</span> <span class="st">&quot;apple,banana;cherry|date&quot;</span></span>
<span id="cb92-2"><a href="control-flow-regular-expressions.html#cb92-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="st">&quot;[,;|]&quot;</span></span>
<span id="cb92-3"><a href="control-flow-regular-expressions.html#cb92-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-4"><a href="control-flow-regular-expressions.html#cb92-4" aria-hidden="true" tabindex="-1"></a>split_text <span class="ot">&lt;-</span> <span class="fu">str_split</span>(text, pattern)</span>
<span id="cb92-5"><a href="control-flow-regular-expressions.html#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(split_text)</span></code></pre></div>
<p>In each example, the <code>pattern</code> argument is a regular expression, and the functions from the <code>stringr</code> package are used to manipulate the strings based on the pattern. The <code>tidyverse</code> ecosystem makes it easy to integrate regular expressions with data manipulation tasks, such as filtering, transforming, or summarizing data in data frames or tibbles.</p>
<p>Regular expressions can be used in <code>if</code> statements, loops, functions, as well as, generally, in the processing of all main data structures.</p>
</div>
<div id="tips-for-regular-expressions-in-r" class="section level3 hasAnchor" number="6.3.3">
<h3><span class="header-section-number">6.3.3</span> Tips for Regular Expressions in R<a href="control-flow-regular-expressions.html#tips-for-regular-expressions-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Start simple and build complexity gradually. Regular expressions is not an exact science, so to speak, but rather an art. It takes some time to get used to them.</li>
<li>Regular expressions are greedy, i.e. they tend to catch more than you really need. Usually, it is relatively easy to write a regular expression that catches what you need, but it is much more difficult to write a regular expression in such a way that it does not what you do not need. This takes practice.</li>
<li>Test your regex patterns using online tools like <a href="https://regex101.com/" class="uri">https://regex101.com/</a> (although it does not seem to support R). It also helps to use text editors (<em>Sublime Text</em>, <em>Kate</em>, etc.) that support regular expressions: paste a sample of a text you are working with and test your regular expression—in such text editors matches are usually automatically highlighted.<br />
</li>
<li>Use comments and whitespace to make complex regex patterns more readable. In R, you can use comments and whitespace to make complex regular expressions more readable by employing the <code>(?#...)</code> syntax for inline comments and the <code>(?x)</code> modifier to enable free-spacing mode. In free-spacing mode, whitespace between regex tokens is ignored, allowing you to format the pattern for readability. Here’s an example:</li>
</ol>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="control-flow-regular-expressions.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb93-2"><a href="control-flow-regular-expressions.html#cb93-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-3"><a href="control-flow-regular-expressions.html#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample text</span></span>
<span id="cb93-4"><a href="control-flow-regular-expressions.html#cb93-4" aria-hidden="true" tabindex="-1"></a>text <span class="ot">&lt;-</span> <span class="st">&quot;Phone numbers: (123) 456-7890, 321-654-0987, +1 (987) 654-3210&quot;</span></span>
<span id="cb93-5"><a href="control-flow-regular-expressions.html#cb93-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-6"><a href="control-flow-regular-expressions.html#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Complex regex pattern to match phone numbers</span></span>
<span id="cb93-7"><a href="control-flow-regular-expressions.html#cb93-7" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="fu">regex</span>(<span class="st">&quot;</span></span>
<span id="cb93-8"><a href="control-flow-regular-expressions.html#cb93-8" aria-hidden="true" tabindex="-1"></a><span class="st">  (?x)                 (?# Enable free-spacing mode)</span></span>
<span id="cb93-9"><a href="control-flow-regular-expressions.html#cb93-9" aria-hidden="true" tabindex="-1"></a><span class="st">  (</span><span class="sc">\\</span><span class="st">+</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">s)?         (?# Optional international prefix with a space)</span></span>
<span id="cb93-10"><a href="control-flow-regular-expressions.html#cb93-10" aria-hidden="true" tabindex="-1"></a><span class="st">  (</span><span class="sc">\\</span><span class="st">(?</span><span class="sc">\\</span><span class="st">d{3}</span><span class="sc">\\</span><span class="st">)?</span><span class="sc">\\</span><span class="st">s?) (?# Optional area code with optional parentheses and space)</span></span>
<span id="cb93-11"><a href="control-flow-regular-expressions.html#cb93-11" aria-hidden="true" tabindex="-1"></a><span class="st">  </span><span class="sc">\\</span><span class="st">d{3}               (?# First three digits of the phone number)</span></span>
<span id="cb93-12"><a href="control-flow-regular-expressions.html#cb93-12" aria-hidden="true" tabindex="-1"></a><span class="st">  [-]                  (?# Separator: hyphen)</span></span>
<span id="cb93-13"><a href="control-flow-regular-expressions.html#cb93-13" aria-hidden="true" tabindex="-1"></a><span class="st">  </span><span class="sc">\\</span><span class="st">d{4}               (?# Last four digits of the phone number)</span></span>
<span id="cb93-14"><a href="control-flow-regular-expressions.html#cb93-14" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;</span>, <span class="at">comments =</span> <span class="cn">TRUE</span>)</span>
<span id="cb93-15"><a href="control-flow-regular-expressions.html#cb93-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-16"><a href="control-flow-regular-expressions.html#cb93-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract phone numbers from the text using the pattern</span></span>
<span id="cb93-17"><a href="control-flow-regular-expressions.html#cb93-17" aria-hidden="true" tabindex="-1"></a>phone_numbers <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">str_extract_all</span>(text, pattern))</span>
<span id="cb93-18"><a href="control-flow-regular-expressions.html#cb93-18" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(phone_numbers)</span></code></pre></div>
<p>In this example, we create a complex regex pattern to match different phone number formats. We use inline comments with <code>(?#...)</code> and free-spacing mode with <code>(?x)</code> to make the pattern more readable. The <code>str_extract_all()</code> function from the <code>stringr</code> package is then used to extract the phone numbers from the sample text.</p>
<ol start="5" style="list-style-type: decimal">
<li>Be aware of R’s string escaping rules when using regex patterns (e.g., using double backslashes <code>\\</code> instead of single ones <code>\</code>).</li>
<li>You can find the most detailed description of all the possible options in for regular expressions <code>stringr</code> at <a href="https://stringr.tidyverse.org/articles/regular-expressions.html" class="uri">https://stringr.tidyverse.org/articles/regular-expressions.html</a>.</li>
</ol>
</div>
<div id="in-class-practice" class="section level3 hasAnchor" number="6.3.4">
<h3><span class="header-section-number">6.3.4</span> In-Class Practice<a href="control-flow-regular-expressions.html#in-class-practice" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>get some long-ish text variable;</li>
<li>assign a series of tasks to find something very specific in that text;</li>
<li>perhaps, the “old” practice file can be used in <code>Sublime Text</code> (it is best to use the same editor for this exercise).</li>
</ul>
</div>
<div id="the-practice-regex-file" class="section level3 hasAnchor" number="6.3.5">
<h3><span class="header-section-number">6.3.5</span> The Practice Regex File<a href="control-flow-regular-expressions.html#the-practice-regex-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>======================================================
===Regular Expression Practical Session===============
======================================================
    [Regex Interactive Tutorial: http://regexone.com/]
    Best works in text editors:
        EditPad Lite/Pro on Windows (decent support of Arabic)
        Sublime Text or TextMate on Mac (limited support of Arabic)
    Alternatively, either of web RE testers:
        http://regexpal.com/, http://regexr.com/, http://regex101.com/:
        copy-paste the text into the lower window;
        test your regular expressions in the upper one.
        
    Regex Cheat Sheets:
        http://www.rexegg.com/regex-quickstart.html
        
INTRO
1. Try the following regex: [ch]at
    that    at
    chat    cat
    fat phat
    
3. Try the following regex: [10][23]
    02  03  12  13

4. Try the following regex: \d\d\d[- ]\d\d\d\d
    501-1234    234 1252
    652.2648    713-342-7452
    PE6-5000    653-6464x256

5. Try the following regex: runs?
    runs    run
    
6. Try the following regex: 1\d*
    12345   122345  111111
    113456  098097  109493
    510349  673452  005645
    
7. Try the following regexes:
    ar?t, a[fr]?t, ar*t, ar+t, a.*t
    
    1: “at”     2: “art”
    3: “arrrrt” 4: “aft”

PART I
1. What regular expression matches each of the following?
    “eat”, “eats”, “ate”, “eaten”, “eating”, “eater”,
    “eatery”

2. Find all Qadhdhafis...
    ... the name of the country&#39;s head of state [is]
    Colonel Gaddafi. Wait, no, that&#39;s Kaddafi. Or maybe it&#39;s
    Qadhafi. Tell you what, we&#39;ll just call him by his first
    name, which is, er ... hoo boy.
        (SRC: http://tinyurl.com/4839sks)
    The LOC lists 72 alternate spellings
        (SRC: http://tinyurl.com/3nnftpt)
    Maummar Gaddafi, Moamar AI Kadafi, Moamar al-Gaddafi,
    Moamar el Gaddafi, Moamar El Kadhafi, Moamar Gaddafi,
    Moamar Gadhafi, Moamer El Kazzafi, Moamer Gaddafi,
    Moamer Kadhafi, Moamma Gaddafi, Moammar el Gadhafi,
    Moammar El Kadhafi, Mo&#39;ammar el-Gadhafi, Moammar Gaddafi,
    Moammar Gadhafi, Mo&#39;ammar Gadhafi, Moammar Ghadafi,
    Moammar Kadhafi, Moammar Khadaffy, Moammar Khadafy,
    Moammar Khaddafi, Moammar Qudhafi, Moammer Gaddafi,
    Mouammer al Gaddafi, Mouammer Al Gaddafi, Mu`amar al-Kad&#39;afi,
    Mu`ammar al-Qadhdhāfī, Mu&#39;amar al-Kadafi, Muamar Al-Kaddafi,
    Muamar Gaddafi, Muamar Kaddafi, Muamer Gadafi, Muammar al Gaddafi,
    Muammar Al Ghaddafi, Muammar Al Qaddafi, Muammar Al Qathafi

3. Find all variations of Iṣbahān
    (construct the shortest possible regular expression):
    
    EASY:
    Iṣbahān, Iṣfahān, Isbahan,
    Isfahan, Esfāhān‎, Esfahān,
    Espahan, Ispahan, Sepahan,
    Esfahan, Hispahan, Nesf-e Jahān,
    iṣbahān, iṣfahān, isbahan,
    isfahan, esfāhān‎, esfahān,
    espahan, ispahan, sepahan,
    esfahan, hispahan, nesf-e jahān
    
    TRICKY:
    اصفهان، أصفهان، اسپهان، أصفهــان،
    أصبهان، آصفهان، إصفهان، آسپهان،
    ٱصفهــان، اصبهان، إصبهان، آصبهان


PART II (more practice)

1. Conversion: Convert “Qaddafi, Muammar” &gt; “Muammar Qaddafi”
    Qaddafi, Muammar
    Al-Gathafi, Muammar
    al-Qadhafi, Muammar
    Al Qathafi, Muammar
    Al Qathafi, Muammar
    El Gaddafi, Moamar
    El Kadhafi, Moammar
    El Kazzafi, Moamer
    El Qathafi, MuAmmar
    Vader, Darth

2. Find all nisbas:

    EASY:
    Al-Iṣbahānī, al-Isfahani, Iskandarii,
    al-Baghdadiya, al-Baġdādīya, al-Kūfī,
    al-Dhahabi, Jawziyya, aṭ-Ṭabarī
    
    TRICKY:
    الاصبهاني، الاصفهانى، إسكندري،
    البغدادية، بغدادي، الكوفي،
    الذهبي، جوزية، الطبري
    
3. Find all words of the mafʿūl pattern:

    EASY:
    al-maqtūl, al-mafʿūl, al-maktūb,
    al-masʾūlaŧ, al-manṣūraŧ, al-maksūraŧ,
    maqtūl, mafʿūl, maktūb,
    masʾūlaŧ, manṣūraŧ, maksūraŧ
    
    TRICKY:
    المقتول، ٱلمفعول، المكتوب،
    المسؤولة، المنصورة، المكسورة،
    مقتول، مفعول، مكتوب،
    مسؤولة، منصورة، مكسورة
    
4. Find all given variations of the strong root:
    EASY:
    ḫabaza al-ḫabbāzu aḫbazan wa-maḫbūzātin fī maḫbazīhi
    
    TRICKY:
    خبز الخباز أخبازا ومخبوزات في مخبزه

5. Construct regular expressions that find references to the regions of
    al-Kūfa, al-Baṣra, Wāsiṭ, Baġdād and Ḥulwān. For convenience, toponyms
    are separated with commas.
    (Excerpt from al-Muqaddasī):
    # فاما الكوفة فمن مدنها حمام ابن عمر ، الجامعين ،
      سورا ، النيل ، القادسية ، عين التمر .
    # واما البصرة فمن مدنها الأبلة ، شق عثمان ،
      زبان ، بدران ، بيان ، نهر الملك ، دبا ، نهر الأمير ،
      ابو الخصيب ، سليمانان ، عبادان ، المطوعة ، والقندل ،
      المفتح ، الجعفرية .
    # واما واسط فمن مدنها فم الصلح ، درمكان ، قراقبة ،
      سيادة ، باذبين ، السكر ، الطيب ، قرقوب ، قرية الرمل ،
       نهر تيري ، لهبان ، بسامية ، اودسة .
    # واما بغداد فمن مدنها النهروان ، بردان ، كارة ،
      الدسكرة ، طراستان ، هارونية ، جلولا ، باجسرى ، باقبة ،
      إسكاف ، بوهرز ، كلواذى ، درزيجان ، المدائن ، كيل ، سيب ،
      دير العاقول ، النعمانية ، جرجرايا ، جبل ، نهر سابس ،
      عبرتا ، بابل ، عبدس ، قصر ابن هبيرة .
    # واما حلوان فمن مدنها خانقين ، زبوجان ، شلاشان ، الجامد ،
      الحر ، السيروان ، بندنيجان .

6. [In pseudocode] Construct a regular expression that
    finds dates in Arabic (limit to years)
    مات في سنة اثنتين واستقر بعده محمد بن غرلو.
    ولد البهاء في سنة ثمان وسبعين وخمسمائة، وسمع من فلان.
    ولد بالقاهرة في سنة أربع عشرة تقريبا وأمه أم ولد.
    مات بالطاعون في سنة ثلاث وثلاثين.
    ولد سنة تسع وتسعين بدمشق.
    وقد حج صاحب الترجمة في سنة تسع وثمانين.
    توفي في ذي الحجة سنة تسع عشرة.
    توفي سنة تسع وثلاثين.
    ولد سنة ثلاث عشرة وست مائة وتوفي سنة عشر وسبع مائة.
    حدث بشيراز سنة نيف وأربعين عن يعقوب بن سفيان.

</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-manipulation-ii.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="getting-your-data-right.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "github"]
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": "https://github.com/eis1600/hdis-audition-statements/edit/main/060-Class06.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/eis1600/hdis-audition-statements/blob/main/060-Class06.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

</body>

</html>
